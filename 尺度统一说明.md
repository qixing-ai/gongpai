# 工牌设计器尺度统一改进说明

## 问题描述
原代码中存在尺度单位不统一的问题：
- 工牌尺寸使用毫米(mm)
- 圆角使用像素(px)  
- 字体大小计算复杂，混用mm和px
- 缩放系数硬编码

## 解决方案

### 1. 统一尺寸单位
所有设计相关的尺寸统一使用**毫米(mm)**作为单位：
- ✅ 工牌尺寸：宽度、高度 (mm)
- ✅ 圆角半径：统一为 mm
- ✅ 穿孔设置：大小、位置、边框半径 (mm)
- ✅ 图片设置：尺寸、位置 (mm)
- ✅ 文字设置：字号、位置 (mm)

### 2. 规范化常量
- 添加了 `PREVIEW_SCALE = 4` 常量来控制预览缩放
- 添加了 `mmToPx()` 和 `pxToMm()` 转换函数（备用）

### 3. 简化字体渲染
- 字体大小直接使用 `fontSize * PREVIEW_SCALE`
- 移除了复杂的 `* 2.5` 系数计算
- 字体大小范围调整为 2-8mm，更加合理

### 4. 改进的默认值
```javascript
// 工牌设置
borderRadius: 5,  // mm (原来是20px)

// 文字设置  
fontSize: 4,      // mm (原来是1.5mm但计算复杂)
```

### 5. 用户界面改进
- 圆角控制显示单位为 "mm"
- 字体大小控制显示单位为 "mm"
- 添加单位说明："📏 所有尺寸单位均为毫米(mm) • 预览放大4倍显示"

## 优势

1. **一致性**：所有尺寸使用统一的毫米单位
2. **准确性**：避免了不同单位之间的转换误差
3. **直观性**：用户设置的值直接对应实际物理尺寸
4. **可维护性**：代码更清晰，缩放逻辑更简单
5. **专业性**：符合设计和制造行业的标准做法

## 技术细节

### 缩放计算
```javascript
// 预览显示
width: dimension * PREVIEW_SCALE  // mm转换为预览像素

// 交互计算  
deltaX = mouseDelta / PREVIEW_SCALE  // 鼠标移动转换为mm
```

### 单位转换函数
```javascript
const mmToPx = (mm) => mm * 3.78; // 1mm ≈ 3.78px (96 DPI)
const pxToMm = (px) => px / 3.78;
```

## 向后兼容性
- 重置功能更新了默认值
- 现有设计在重新加载后会使用新的统一单位
- 圆角从20px调整为5mm（视觉效果相近）

## 测试建议
1. 验证所有尺寸控制的单位显示正确
2. 测试拖拽调整尺寸的精度
3. 确认预览与实际尺寸的比例关系
4. 检查重置功能的默认值 