# 自适应工牌GLB生成器

## 功能特点

- 🔍 **自动图像分析**: 自动分析输入图像的尺寸和宽高比
- 📏 **智能尺寸计算**: 根据图像比例计算合适的物理尺寸
- 🔲 **自适应立方体**: 生成符合图像比例的立方体工牌模型
- 🖼️ **完整纹理映射**: 前后面显示完整纹理，侧面显示边缘纹理
- ✅ **修复几何结构**: 确保背面几何结构正确

## 使用方法

### 1. 环境准备

```bash
# 创建虚拟环境
python3 -m venv venv

# 激活虚拟环境
source venv/bin/activate

# 安装依赖
pip install numpy pillow pygltflib
```

### 2. 运行脚本

```bash
# 在虚拟环境中运行
source venv/bin/activate
python create_badge.py
```

### 3. 输入文件

脚本会自动查找以下图像文件（按优先级）：
1. `wechat_2025-06-20_092203_424.png`
2. `image.png`
3. `texture.png`
4. `badge.png`

### 4. 输出文件

生成的GLB文件命名格式：`工牌_{图像文件名}_自适应.glb`

## 尺寸计算规则

- **竖向工牌** (高 > 宽): 固定宽度6.0cm，高度按比例计算
- **横向工牌** (宽 > 高): 固定高度6.0cm，宽度按比例计算
- **厚度**: 固定0.5cm

## 模型特点

✅ 6个完整的面  
✅ 正确的法向量  
✅ 前后面显示完整纹理  
✅ 侧面显示边缘纹理  
✅ 背面几何结构修复  
✅ 尺寸根据图像自动调整  

## 查看建议

1. **Blender**: 可以查看所有6个面的完整模型
2. **在线查看器**: https://gltf-viewer.donmccurdy.com
3. **Three.js编辑器**: https://threejs.org/editor/

## 示例输出

```
📏 自适应模型规格:
   • 宽度: 6.0 cm (0.060 m)
   • 高度: 9.1 cm (0.091 m)
   • 厚度: 0.5 cm (0.005 m)
   • 根据图像 wechat_2025-06-20_092203_424.png 自动计算
```

现在您可以获得完全自适应的工牌模型！🎉 